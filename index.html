<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>NVD Learning – Image Upload</title>
    <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
  </head>
  <body style="font-family: sans-serif; padding: 40px;">
  <h2>NVD Learning – Image Upload</h2>
  <p>Upload one image per question. Click “Copy URL” after each upload.</p>

  <button id="uploadBtn" style="padding:10px 16px;font-size:16px;">
    Upload Image(s)
  </button>

  <div id="grid"
       style="display:grid;
              grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));
              gap:16px;
              margin-top:30px;">
  </div>

  <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>

  <script>
    const grid = document.getElementById("grid");

    const widget = cloudinary.createUploadWidget(
      {
        cloudName: "dpdbtl8on",
        uploadPreset: "catalyst-group-latur",
        multiple: true
      },
      (error, result) => {
        if (!error && result && result.event === "success") {
          addImageCard(result.info);
        }
      }
    );

    document.getElementById("uploadBtn").onclick = () => widget.open();

    function addImageCard(info) {
      const card = document.createElement("div");
      card.style.border = "1px solid #ddd";
      card.style.padding = "10px";
      card.style.borderRadius = "8px";
      card.style.textAlign = "center";

      const img = document.createElement("img");
      img.src = info.thumbnail_url;
      img.style.maxWidth = "100%";
      img.style.height = "120px";
      img.style.objectFit = "contain";

      const btn = document.createElement("button");
      btn.innerText = "Copy URL";
      btn.style.marginTop = "10px";
      btn.style.padding = "6px 10px";
      btn.style.cursor = "pointer";

      btn.onclick = () => {
        navigator.clipboard.writeText(info.secure_url);
        btn.innerText = "Copied ✓";
        btn.style.backgroundColor = "#16a34a";
        btn.style.color = "#fff";
        btn.disabled = true;
      };

      card.appendChild(img);
      card.appendChild(btn);
      grid.appendChild(card);
    }
  </script>
  </body>
</html>
